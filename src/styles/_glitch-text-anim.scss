h1.glitch-anim {
    animation: glitch-animation 1000ms infinite steps(3, start);

    &:first-child,
    &:last-child {
        opacity: 50%;
    }

    &:first-child {
        animation: glitch-animation 400ms infinite,
            upper-text-glitch 100ms steps(2, end) infinite;
        clip-path: polygon(0 0, 100% 0, 100% 73%, 0 22%);
        transform: translate(5px, 5px);
    }

    &:last-child {
        animation: glitch-animation 400ms infinite,
            lower-text-glitch 100ms steps(3, end) infinite;
        clip-path: polygon(0 59%, 100% 86%, 100% 100%, 0 100%);
        transform: translate(-5px, -5px);
    }
}

@keyframes glitch-animation {
    0% {
        text-shadow: 10px 0 0 rgba($color: #ff0000, $alpha: 0.5),
            -10px 0 0 rgba($color: #00ff00, $alpha: 0.5),
            0 10px 0 rgba($color: #0000ff, $alpha: 0.5);
    }
    10% {
        text-shadow: 5px 0 0 rgba($color: #ff0000, $alpha: 0.5),
            10px 0 0 rgba($color: #00ff00, $alpha: 0.5),
            0 2px 0 rgba($color: #0000ff, $alpha: 0.5);
    }
    50% {
        text-shadow: -10px 0 0 rgba($color: #ff0000, $alpha: 0.5),
            10px 0 0 rgba($color: #00ff00, $alpha: 0.5),
            0 -10px 0 rgba($color: #0000ff, $alpha: 0.5);
    }
    99% {
        text-shadow: 10px 0 0 rgba($color: #ff0000, $alpha: 0.5),
            -1px 0 0 rgba($color: #00ff00, $alpha: 0.5),
            0 10px 0 rgba($color: #0000ff, $alpha: 0.5);
    }
    100% {
        text-shadow: 10px 0 0 rgba($color: #ff0000, $alpha: 0.5),
            -10px 0 0 rgba($color: #00ff00, $alpha: 0.5),
            0 10px 0 rgba($color: #0000ff, $alpha: 0.5);
    }
}

@keyframes upper-text-glitch {
    0% {
        transform: translate(5px, 5px);
    }
    50% {
        transform: translate(0px, 0px);
    }
    100% {
        transform: translate(5px, 5px);
    }
}

@keyframes lower-text-glitch {
    0% {
        transform: translate(-5px, -5px);
    }
    50% {
        transform: translate(0px, 0px);
    }
    100% {
        transform: translate(-5px, -5px);
    }
}
